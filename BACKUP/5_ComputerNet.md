# [ComputerNet](https://github.com/SylverQG/Blogs/issues/5)

# 一、概述
1. 计算机性能
   1. 速率（比特每秒bit/s）：比特（bit）：信息论中**信息量的单位**；网络技术中**速率**指的是**数据的传送速率**也称为**数据率**或**比特率**
   2. 带宽（两种不同意义）：
      1. 频域称谓，指信号具有的频带宽度，单位Hz
      2. 时域称谓，表示在单位时间内网络中某信道所能通过的“最高数据率”，单位比特每秒（bit/s）；两者本质一样，一条通信链路的“带宽”越宽，传输的“最高数据率”自然越高
   3. 吞吐量：单位时间内通过某个网络（或信道、接口）的实际数据量。受网络的带宽或网络的额定速率的限制
   4. 时延：时延是指数据（一个报文或分组，甚至是比特）从网络（或链路）的一端传送到另一端所需的时间，有时也成为延迟或迟延
- 发送时延（传输时延）：主机或路由器发送数据帧所需要的时间
```math
   发送时延=\frac{数据帧长度(b)}{发送速率(b/s)}
```
- 传播时延：电磁波在信道中传播一定的距离需要花费的时间
```math
   传输时延=\frac{信道长度(m)}{电磁波在信道上的传播率(m/s)}
```
- 处理时延：主机或路由器在收到分组时需要花费一定的时间进行处理
- 排队时延：结点缓存队列中分组排队所经历的时延（取决于网络当时的通信量）；数据在网络中经历的总时延就是以上四种时延之和
- 注：对于高速网络，提高的仅仅是数据的发送率不是比特在链路上的传播速率
   5. 时延带宽积： $时延带宽积（体积）= 传播时延（长）\times 带宽（截面积）$，以比特为单位的链路长度
   6. 往返时间（RTT）：简单来说，就是两倍传播时延（实际上还包括处理时延，排队时延，转发时的发送时延）
   7. 利用率：信道利用率 $\rightarrow$ 网络利用率（全网络的信道利用率的加权平均值） $D=\frac{D_0}{1-U}, D_0$表示网络空间时的延时， $D_0$表示网络空闲时时延， $U$为利用率， $D$表示网络当前的时延；可见信道利用率并不是越高越好，当某信道的利用率增大时，该信道引起的时延也就迅速增大。 减少方法是增大线路的带宽
2. 计算机网络体系结构
   1. OSI/RM：开放系统互联参考模型（法律上的国际标准）：简称`OSI`
   2. TCP/IP：事实上的国际标准
   3. 协议：为进行网络中的数据交换而建立的规则、标准或约定。三要素：语法（结构和格式），语义（动作），同步（顺序）
   4. 分层的好处
      1. 各层之间是独立的
      2. 灵活性好
      3. 结构上可分割开
      4. 易实现和维护
      5. 能促进标准化工作
   5. 五层体系结构
      1. 应用层：通过应用进程（正在运行的程序）间的交互来完成特定网络应用。（如DNS，HTTP，SMTP，FTP）
      2. 运输层：负责向两台主机中进程之间的通信提供的数据传输服务。（复用和分用）
         1. 传输控制协议TCP：提供面向连接的、可靠的数据传输服务，其数据传输单位是报文段
         2. 用户数据报协议UDP：提供无连接的、尽最大努力的数据传输服务（不保证可靠性），其数据传输单位是用户数据报
      3. 网络层：负责为分组交换网上的不同主机提供通信服务（TCP/IP体系中，分组也叫IP数据报）
      4. 数据链路层：将网络层交下来的IP数据报组装成帧，在两个相邻结点（主机和路由器之间或路由器之间）间的链路上传送帧；每一帧包括数据和必要的控制信息
      5. 物理层：透明地传送比特流（双绞线、同轴电缆、光缆、无线信道等不在物理层）
3. 词语
   1. 实体：任何可发送或接受信息的硬件或软件进程
   2. 协议：控制两个对等实体（或多个实体）进行通信的规则的集合。（水平的）
   3. 在协议控制下，两个对等实体间的通信使得本层能够向上一层提供服务（垂直的）要实现本层协议，还需要使用下面一层所提供的服务
   4. 同一系统相邻两层的实体进行交互（即交换信息）的地方，称为服务访问SAP

# 二、物理层
1. 基本概念
   - 机械特性（接口）
   - 电气特性（电压范围）
   - 功能特性（电压的意义）
   - 过程特征（顺序）
2. 数据通信系统
   一个数据通信系统可划分为三大部分，即源系统（发送端、发送方） $\rightarrow$ 传输系统（传输网络） $\rightarrow$ 目的系统（接收端、接收方）
   - 数据（data）：运送消息的实体
   - 信号（signal）：数据的电气的或电磁的表现
   - 模拟信号或连续信号（analogous）：代表消息的参数的取值是连续的
   - 数字信号或离散信号（digital）：代表消息的参数的取值是离散的
   - 码元（code）：代表不同离散数值的基本波形
3. 信道的基本概念
   信道用来表示向某个方向传送信息的媒体；可以有以下三种基本方式
   1. 单向通信（单工通信）：只能有一个方向的通信而没有反方向的交互（广播）
   2. 双向交替通信（半双工通信）：通信的双方都可以发送信息，但不能双方同时发送（当然也就不能同时接收）这种通信方式是一方发送另一方接收，过一段时间后，可以再反过来
   3. 双向同时通信（全双工通信）：通信的双方可以同时发送和接收信息
4. 信道的极限容量
   1. 信道能够通过的频率范围（码间串扰）：加宽频带
   2. 信噪比：信号的平均功率的噪声的平均功率之比；常记为 $S/N$，并用分贝(dB)作为度量单位。即： $信噪比(dB)=10\log_{10} (S/N)(dB)$
   3. 香农公式：信道的极限信息传输速率 $C=W\log_{2}(1+S/N) (bit/s)$;式中W为信道的带宽（单位Hz），S为信道内所传信号的平均功率，N为信道内部的高斯噪声功率
   4. 香农公式表明：信道的带宽或信道中的信噪比越大，信息的极限传输速率就越高。只要信息传输速率低于信道的极限传输速率，就一定存在某种方法实现无差错传输

---

# 三、数据链路层
（计算题：1.CRC；2.征用期、最短帧长与时延）
1. 两种信道
   1. 点对点信道
   2. 广播信道
2. 链路：从一个结点到相邻结点的一段物理线程（有线或无线），中间没有任何交换结点
3. 数据链路：当需要在一条线路上传送数据时，除了必须有一条物理线路外，还必须由一些必要的通信协议来控制这些数据的传输，把实现这些协议的硬件和软件加到链路上，就构成了数据链路。最常用网络适配器。
4. 帧：协议数据单元
5. 三个基本问题：
   1. 封装成帧：在一段数据前后分别添加首部和尾部进行帧定界（确定帧的界限）
      1. SOH：帧首部，16进制编码01，二进制是00000001
      2. EOT：帧尾部，16禁止编码04，二进制是00000100
   2. 透明传输：解决透明传输问题具体方法：字节填充（或字符填充），发送端的数据链路层在数据中出现控制字符SOH和EOT的前面插入一个转义字符ESC（16进制编码时1B，二进制00011011）
   3. 差错检测：比特在传输过程中可能会产生差错（比特差错）；传输错误的比特占所传输比特总数的比率称为误码率（BER）
   - 循环冗余码CRC：CRC运算就是在数据M的后面添加供差错检测用的n位冗余码
   - n位荣誉码得出方法：用二进制的模2运算进行 $2^n$ 乘M(待传送的数据)的运算，这相当于在M后面添加n个0。得到的(k+n)位的数除以事先商定的长度为(n+1)位的除数P，得到的余数(比除数少一位)作为冗余码，数据加上冗余码在除以除数P，得到的余数为0即为无差错
   - 凡是接收端数据链路层接受的帧均无差错（无比特差错）
   - 传输差错：帧丢失、帧重复、帧失序
6. 点对点协议PPP
目前使用得最广泛的数据链路层协议
   1. 特点
      1. 简单
      2. 封装成帧
      3. 透明性
      4. 多种网络层协议（支持，IP、IPX）
      5. 多种类型链路（串行、并行、同步、异步、高速、低速、电、光、动态、静态）
      6. 差错检测
      7. 检测连接状态
      8. 最大传送单元（MTU）
      9. 网络层地质协商
      10. 数据压缩协商
   2. 不(需要|支持)的功能
      1. 纠错（不可靠传输）
      2. 流量控制（TCP）
      3. 序号（不可靠传输，在无线时可用）
      4. 多点线路（不支持一主对多从）
      5. 半双工或单工链路（只支持双工）
   3. 组成
      1. IP数据报封装到串行链路的方法
      2. 链路控制协议LCP：用来建立、配置和测试数据链路连接
      3. 网络控制协议NCP：其中的每一个协议支持不同的网络层协议
7. 局域网数据链路层
   1. 局域网的拓扑：星形网，环形网，总线网
   2. 静态划分信道：频分复用、时分复用、波分复用、码分复用；动态媒体接入控制又称作多点接入：随机接入、受控接入、如多点线路探询/轮询
   3. 以太网的两个标准：`DIX Ethernet V2`和 `IEEE 802.3`
   4. CSMA/CD（载波监听多点接入/碰撞检测）协议
      1. 以太网采用的措施
         1. 用较为灵活的无连接的工作方式（不进行编号，不要求对方发回确认）
         2. 曼彻斯特编码（一分为二）
      2. 多点接入：总线型网络
      3. 载波监听（检测信道）
      4. 碰撞检测（冲突检测）
      5. 争用期（碰撞窗口）
      6. 最短有效帧长度为64字节
      7. 强化碰撞：认为干扰信号
      8. 帧间最小间隔为 9.6 微秒，相当于 96 比特时间
   5. 以太网的信道利用率
      1. 成功发送一个帧占用信道的时间 T(发送帧需要的时间，由帧长除以发送速率得出) + $\tau$ (单程端到端传播时延)
      2. 参数 a: $a=\frac{\tau}{T_0}$ a越小越好，以太网的帧长度不能太短
      3. 极限信道利用率 $S_{max}=\frac{1}{1+\alpha}$ 只有当a远小于1才能得到尽可能高的极限信道利用率
8. 要发送的数据为101110。才用CRCD生成多项式是 $P(X)=X^3+1$ 试求应该添加在数据后面的余数
答：作二进制除法，101110 000 10011 添加在数据后面的余数是 011


1. 功能：为网络层提供服务、链路管理、帧定界、帧同步与透明传输、流量控制和差错控制
   1. 无确认的无连接服务：如以太网
   2. 有确认的无连接服务：如无线通信
   3. 有确认的面向连接服务：通信要求（可靠性、实时性）较高的场合
   4. 注：有链接就一定要确认
指的是接收方应当能从接收到的二进制比特流中区分出帧的起始和终止

2. 组帧：主要解决帧定界、帧同步与透明传输等问题
   1. 字符技术法：在帧头部使用一个技术字段来表明帧内字符数（此字段也在技术范围内）
   2. 首位定界法：
      1. 概念：使用特定字符或比特模式定界帧的开始和结束
      2. 字符填充：在数据中的特殊字符前面用转义字符（ESC）填充加以区分
      3. 比特填充：使用一个特定的比特模式，即0111110（FLAG）来标志一段帧的开始和结束；容易由硬件来实现，性能好
   3. 违规编码法：信号传输过程中采用违规的编码来表示帧的起始和终止（曼彻斯特编码中，采用高-高或低-低的违规方式来定界帧）
3. 差错控制：分为位错和帧错，主要解决方法由自动重传（ARQ）和前向纠错（FEC）
   1. 噪声：传输中的差错都是噪声引起的
      1. 随机热噪声：信道固有，可提高信噪比来减少或避免干扰
      2. 冲击噪声：来自外界，不可通过提高信号幅度来避免，是产生差错的重要原因
   2. 检错编码
   3. 纠错编码